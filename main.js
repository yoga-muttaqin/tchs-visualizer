(()=>{var t={844:()=>{class t extends HTMLElement{constructor(){super(),this.innerHTML='<nav class="bg-blue-950 p-4">\n        <div class="container mx-auto flex justify-between items-center">\n          <a href="#" class="text-slate-300 text-2xl font-bold">TCHS-VIEWER</a>\n          <div class="md:flex space-x-4 hidden">\n            <a\n              href="#"\n              class="active-tab"\n              tab-identifier="tabDetailCase"\n              tab-target="tabContentBeranda"\n              >Beranda</a\n            >\n            <a\n              href="#"\n              class="not-active-tab"\n              tab-identifier="tabDetailCase"\n              tab-target="tabContentProfil"\n              >Profil</a\n            >\n            <a\n              href="#"\n              class="not-active-tab"\n              tab-identifier="tabDetailCase"\n              tab-target="tabContentRiwayat"\n              >Riwayat Treatment</a\n            >\n            <a\n              href="#"\n              class="not-active-tab"\n              tab-identifier="tabDetailCase"\n              tab-target="tabContentGraph"\n              >Graph Viewer</a\n            >\n          </div>\n          <button\n            id="menu-toggle"\n            class="md:hidden text-white focus:outline-none"\n          >\n            <svg\n              class="w-6 h-6"\n              fill="none"\n              stroke="currentColor"\n              viewBox="0 0 24 24"\n              xmlns="http://www.w3.org/2000/svg"\n            >\n              <path\n                stroke-linecap="round"\n                stroke-linejoin="round"\n                stroke-width="2"\n                d="M4 6h16M4 12h16m-7 6h7"\n              ></path>\n            </svg>\n          </button>\n        </div>\n        <div id="mobile-menu" class="md:hidden hidden mt-4">\n          <a\n            href="#"\n            class="active-tab"\n            tab-identifier="tabDetailCase"\n            tab-target="tabContentBeranda"\n            >Beranda</a\n          >\n          <a\n            href="#"\n            class="block text-white hover:text-yellow-400 py-2 not-active-tab"\n            tab-identifier="tabDetailCase"\n            tab-target="tabContentProfil"\n            >Profil</a\n          >\n          <a\n            href="#"\n            class="block text-white hover:text-yellow-400 py-2 not-active-tab"\n            tab-identifier="tabDetailCase"\n            tab-target="tabContentRiwayat"\n            >Riwayat Treatment</a\n          >\n          <a\n            href="#"\n            class="block text-white hover:text-yellow-400 py-2 not-active-tab"\n            tab-identifier="tabDetailCase"\n            tab-target="tabContentGraph"\n            >Graph Viewer</a\n          >\n        </div>\n      </nav>'}}customElements.get("navbar-elem")||customElements.define("navbar-elem",t)},783:()=>{class t extends HTMLElement{constructor(){super(),this.innerHTML='<div id="tabContentDetailCase" class="p-2 rounded-md">\n        <div id="tabContentBeranda" class="active p-2">\n          <div class="flex items-center justify-center w-full">\n            <label\n              for="jsonTchs"\n              class="flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100"\n            >\n              <div class="flex flex-col items-center justify-center pt-5 pb-6">\n                <svg\n                  class="w-8 h-8 mb-4 text-gray-500"\n                  aria-hidden="true"\n                  xmlns="http://www.w3.org/2000/svg"\n                  fill="none"\n                  viewBox="0 0 20 16"\n                >\n                  <path\n                    stroke="currentColor"\n                    stroke-linecap="round"\n                    stroke-linejoin="round"\n                    stroke-width="2"\n                    d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"\n                  />\n                </svg>\n                <p class="mb-2 text-sm text-gray-500">\n                  <span class="font-semibold"\n                    >Upload file JSON dari Data Warehouse Sistem TCHS</span\n                  >\n                </p>\n                <p\n                  class="text-xs text-gray-500 dark:text-gray-400"\n                  id="file-name"\n                ></p>\n              </div>\n              <input id="jsonTchs" type="file" class="hidden" />\n            </label>\n          </div>\n        </div>\n        <div id="tabContentGraph" class="hidden p-2">\n          <div class="rounded-lg w-full">\n            <div class="flex items-center justify-center w-full">\n              <label\n                for="jsonTchsGraph"\n                class="flex flex-col items-center justify-center h-14 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 w-full"\n              >\n                <div class="flex flex-col items-center justify-center p-3">\n                  <svg\n                    class="w-4 h-4 mb-2 text-gray-500"\n                    aria-hidden="true"\n                    xmlns="http://www.w3.org/2000/svg"\n                    fill="none"\n                    viewBox="0 0 20 16"\n                  >\n                    <path\n                      stroke="currentColor"\n                      stroke-linecap="round"\n                      stroke-linejoin="round"\n                      stroke-width="2"\n                      d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"\n                    />\n                  </svg>\n                  <p class="mb-2 text-sm text-gray-500">\n                    <span class="font-semibold"\n                      >Upload file JSON dari Data Graph Database</span\n                    >\n                  </p>\n                  <p\n                    class="text-xs text-gray-500"\n                    id="file-name-graph"\n                  ></p>\n                </div>\n                <input id="jsonTchsGraph" type="file" class="hidden" />\n              </label>\n            </div>\n            \n            <div class="mx-auto w-full mt-3">\n              <div id="graphContainer" style="height: 100vh"></div>\n            </div>\n          </div>\n        </div>\n        <div id="tabContentRiwayat" class="hidden p-2">\n          <div class="bg-gray-200 rounded-lg w-full">\n            <div class="p-3 bg-white rounded-lg shadow mb-2">\n                <details>\n                <summary class="text-2xl font-bold mb-2 cursor-pointer">Riwayat Pengawasan</summary>\n                <div id="riwayatPengawasan" class="mx-auto p-2"> \n                </div>\n                </details>\n            </div>\n            <div class="p-3 bg-white rounded-lg shadow mb-2">\n                <details>\n                <summary class="text-2xl font-bold mb-2 cursor-pointer">Riwayat Pemeriksaan</summary>\n                <div id="riwayatPemeriksaan" class="mx-auto p-2"> \n                </div>\n                </details>\n            </div>\n            <div class="p-3 bg-white rounded-lg shadow mb-2">\n                <details>\n                <summary class="text-2xl font-bold mb-2 cursor-pointer">Riwayat Buper</summary>\n                <div id="riwayatBuper" class="mx-auto p-2"> \n                </div>\n                </details>\n            </div>\n            <div class="p-3 bg-white rounded-lg shadow mb-2">\n                <details>\n                <summary class="text-2xl font-bold mb-2 cursor-pointer">Riwayat Penyidikan</summary>\n                <div id="riwayatPenyidikan" class="mx-auto p-2"> \n                </div>\n                </details>\n            </div>\n          </div>\n        </div>\n        <div id="tabContentProfil" class="hidden p-2">\n          <div class="bg-gray-200 rounded-lg w-full">\n            <div class="p-3 bg-white rounded-lg shadow mb-2">\n                <details>\n                <summary class="text-2xl font-bold mb-2 cursor-pointer">Profil WP</summary>\n                <div id="profilWpCardView" class="mx-auto p-2"> \n                </div>\n                </details>\n            </div>\n            <div class="p-3 bg-white rounded-lg shadow mb-2">\n                <details>\n                  <summary\n                    class="text-2xl font-bold text-gray-900 mb-2 cursor-pointer"\n                  >\n                    Kondisi Keuangan Wajib Pajak\n                  </summary>\n                  <div class="mx-auto p-2">\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2">\n                      <div\n                        class="bg-white shadow-lg rounded-lg p-2 border-l-2 border-teal-500"\n                      >\n                        <div class="flex items-center mb-1">\n                          <svg\n                            class="w-8 h-8 text-teal-500"\n                            aria-hidden="true"\n                            xmlns="http://www.w3.org/2000/svg"\n                            width="24"\n                            height="24"\n                            fill="currentColor"\n                            viewBox="0 0 24 24"\n                          >\n                            <path\n                              fill-rule="evenodd"\n                              d="M7 6a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-2v-4a3 3 0 0 0-3-3H7V6Z"\n                              clip-rule="evenodd"\n                            />\n                            <path\n                              fill-rule="evenodd"\n                              d="M2 11a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7Zm7.5 1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z"\n                              clip-rule="evenodd"\n                            />\n                            <path d="M10.5 14.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" />\n                          </svg>\n\n                          <div class="text-xl font-bold text-gray-800">\n                            Laporan Keuangan\n                          </div>\n                        </div>\n                        <div id="laporanKeuangan" class="grid grid-cols-1">\n                          \n                        </div>\n                      </div>\n                      <div\n                        class="bg-white border-l-2 border-yellow-400 shadow-lg rounded-lg p-2"\n                      >\n                        <div class="flex items-center mb-1">\n                          <svg\n                            class="w-8 h-8 text-yellow-400"\n                            aria-hidden="true"\n                            xmlns="http://www.w3.org/2000/svg"\n                            width="24"\n                            height="24"\n                            fill="currentColor"\n                            viewBox="0 0 24 24"\n                          >\n                            <path\n                              fill-rule="evenodd"\n                              d="M8 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1h2a2 2 0 0 1 2 2v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h2Zm6 1h-4v2H9a1 1 0 0 0 0 2h6a1 1 0 1 0 0-2h-1V4Zm-6 8a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1 3a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2H9Z"\n                              clip-rule="evenodd"\n                            />\n                          </svg>\n\n                          <div class="text-xl font-bold text-gray-800">\n                            Pemasok & Pelanggan\n                          </div>\n                        </div>\n                        <div id="pemasokDanPelanggan">\n                          \n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </details>\n              </div>\n              <div class="p-3 bg-white rounded-lg shadow">\n                <details>\n                  <summary\n                    class="text-2xl font-bold text-gray-900 mb-2 cursor-pointer"\n                  >\n                    Summary Pembayaran dan Pelaporan Pajak\n                  </summary>\n                  <div class="mx-auto p-2">\n                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2">\n                      <div\n                        class="bg-white shadow-lg rounded-lg p-2 border-l-2 border-cyan-500"\n                      >\n                        <div class="flex items-center mb-1">\n                          <svg\n                            class="w-8 h-8 text-cyan-500 dark:text-white"\n                            aria-hidden="true"\n                            xmlns="http://www.w3.org/2000/svg"\n                            width="24"\n                            height="24"\n                            fill="none"\n                            viewBox="0 0 24 24"\n                          >\n                            <path\n                              stroke="currentColor"\n                              stroke-linecap="round"\n                              stroke-linejoin="round"\n                              stroke-width="2"\n                              d="M3 15v4m6-6v6m6-4v4m6-6v6M3 11l6-5 6 5 5.5-5.5"\n                            />\n                          </svg>\n\n                          <div class="text-xl font-bold text-gray-800">\n                            Peredaran Usaha\n                          </div>\n                        </div>\n                        <div id="peredaranUsaha" class="grid grid-cols-1">\n                          \n                        </div>\n                      </div>\n                      <div\n                        class="bg-white shadow-lg rounded-lg p-2 border-l-2 border-green-500"\n                      >\n                        <div class="flex items-center mb-1">\n                          <svg\n                            class="w-8 h-8 text-green-500"\n                            aria-hidden="true"\n                            xmlns="http://www.w3.org/2000/svg"\n                            width="24"\n                            height="24"\n                            fill="currentColor"\n                            viewBox="0 0 24 24"\n                          >\n                            <path\n                              fill-rule="evenodd"\n                              d="M4 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H4Zm0 6h16v6H4v-6Z"\n                              clip-rule="evenodd"\n                            />\n                            <path\n                              fill-rule="evenodd"\n                              d="M5 14a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Zm5 0a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1Z"\n                              clip-rule="evenodd"\n                            />\n                          </svg>\n                          <div class="text-xl font-bold text-gray-800">\n                            Pembayaran\n                          </div>\n                        </div>\n                        <div id="pembayaranPajak">\n                          \n                        </div>\n                      </div>\n                    </div>\n                    <div\n                      class="bg-white shadow-lg rounded-lg p-2 border-l-2 border-purple-500 mt-2"\n                    >\n                      <div class="flex items-center mb-1">\n                        <svg\n                          class="w-8 h-8 text-purple-800"\n                          aria-hidden="true"\n                          xmlns="http://www.w3.org/2000/svg"\n                          width="24"\n                          height="24"\n                          fill="none"\n                          viewBox="0 0 24 24"\n                        >\n                          <path\n                            fill="currentColor"\n                            d="M4 19v2c0 .5523.44772 1 1 1h14c.5523 0 1-.4477 1-1v-2H4Z"\n                          />\n                          <path\n                            fill="currentColor"\n                            fill-rule="evenodd"\n                            d="M9 3c0-.55228.44772-1 1-1h8c.5523 0 1 .44772 1 1v3c0 .55228-.4477 1-1 1h-2v1h2c.5096 0 .9376.38314.9939.88957L19.8951 17H4.10498l.90116-8.11043C5.06241 8.38314 5.49047 8 6.00002 8H12V7h-2c-.55228 0-1-.44772-1-1V3Zm1.01 8H8.00002v2.01H10.01V11Zm.99 0h2.01v2.01H11V11Zm5.01 0H14v2.01h2.01V11Zm-8.00998 3H10.01v2.01H8.00002V14ZM13.01 14H11v2.01h2.01V14Zm.99 0h2.01v2.01H14V14ZM11 4h6v1h-6V4Z"\n                            clip-rule="evenodd"\n                          />\n                        </svg>\n\n                        <div class="text-xl font-bold text-gray-800">\n                          Pajak Terutang\n                        </div>\n                      </div>\n                      <div id="pajakTerutang" class="grid grid-cols-1 md:grid-cols-2 gap-2">\n                        \n                      </div>\n                    </div>\n                  </div>\n                </details>\n              </div>\n          </div>\n        </div>\n      </div>'}}customElements.get("tab-elem")||customElements.define("tab-elem",t)}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}(()=>{"use strict";n(844),n(783);const t={init:function(t){if((t=>{if("BADAN"===t.jnsWp){profilWpCardView.innerHTML='<div class="grid grid-cols-1 md:grid-cols-2 gap-2">\n                        <div\n                          class="bg-white shadow-lg rounded-lg p-2 border-l-2 border-blue-500"\n                        >\n                          <div class="flex items-center mb-1">\n                            <svg\n                              class="w-8 h-8 text-blue-500"\n                              aria-hidden="true"\n                              xmlns="http://www.w3.org/2000/svg"\n                              width="24"\n                              height="24"\n                              fill="currentColor"\n                              viewBox="0 0 24 24"\n                            >\n                              <path\n                                fill-rule="evenodd"\n                                d="M4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4Zm10 5a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1Zm-8-5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm1.942 4a3 3 0 0 0-2.847 2.051l-.044.133-.004.012c-.042.126-.055.167-.042.195.006.013.02.023.038.039.032.025.08.064.146.155A1 1 0 0 0 6 17h6a1 1 0 0 0 .811-.415.713.713 0 0 1 .146-.155c.019-.016.031-.026.038-.04.014-.027 0-.068-.042-.194l-.004-.012-.044-.133A3 3 0 0 0 10.059 14H7.942Z"\n                                clip-rule="evenodd"\n                              />\n                            </svg>\n  \n                            <div class="text-lg font-bold text-gray-800">\n                              Identitas Wajib Pajak\n                            </div>\n                          </div>\n                          <div\n                            id="identitasWp"\n                            class="grid grid-cols-1"\n                          ></div>\n                        </div>\n                        <div\n                          class="bg-white border-l-2 border-orange-500 shadow-lg rounded-lg p-2"\n                        >\n                          <div class="flex items-center mb-1">\n                            <svg\n                              class="w-8 h-8 text-orange-500"\n                              aria-hidden="true"\n                              xmlns="http://www.w3.org/2000/svg"\n                              width="24"\n                              height="24"\n                              fill="currentColor"\n                              viewBox="0 0 24 24"\n                            >\n                              <path\n                                fill-rule="evenodd"\n                                d="M4 4a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2v14a1 1 0 1 1 0 2H5a1 1 0 1 1 0-2V5a1 1 0 0 1-1-1Zm5 2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9Zm5 0a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1Zm-5 4a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H9Zm5 0a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1h-1Zm-3 4a2 2 0 0 0-2 2v3h2v-3h2v3h2v-3a2 2 0 0 0-2-2h-2Z"\n                                clip-rule="evenodd"\n                              />\n                            </svg>\n                            <div class="text-lg font-bold text-gray-800">\n                              Informasi Manajemen Wajib Pajak\n                            </div>\n                          </div>\n                          <div id="infoManajemenWp"></div>\n                        </div>\n                      </div>',identitasWp.innerHTML=`<div>\n              <h6 class="text-base mb-2"><strong>Nama:</strong> ${t.namaWp}</h6>\n              <h6 class="text-base mb-2"><strong>NPWP:</strong> ${t.npwp}</h6>\n              <h6 class="text-base mb-2"><strong>Jenis:</strong> ${t.jnsWp}</h6>\n              <h6 class="text-base mb-2"><strong>Status:</strong> ${t.status}</h6>\n              <h6 class="text-base mb-2"><strong>Kategori Usaha:</strong> ${t.nmKategori}\n              <h6 class="text-base mb-2"><strong>Klasifikasi Usaha:</strong>\n              ${t.klu}</h6>\n              </h6>\n              <h6 class="text-base mb-2"><strong>Tanggal PKP:</strong>\n              ${t.tglPkp}</h6>\n              </h6>\n              <h6 class="text-base mb-2"><strong>Nomor Akta Pendirian:</strong> ${t.nomorAkta}</h6>\n              <h6 class="text-base mb-2"><strong>Notaris:</strong> ${t.notaris}\n              </h6>\n              <h6 class="text-base mb-2"><strong>Bentuk Badan:</strong> ${t.bentukBadan}</h6>\n              <h6 class="text-base mb-2"><strong>Tanggal Akta Pendirian:</strong> ${formatDate(t.tanggalAkta)}</h6>\n              <h6 class="text-base mb-2"><strong>Kota:</strong> ${t.kota}</h6>\n              <ul class="text-base space-y-1 list-disc list-inside m-0"><strong>Riwayat\n                    Alamat:</strong>\n                    ${Array.isArray(t.riwayatAlamat)?t.riwayatAlamat.map((t=>`<li class="text-base">${t}</li>`)).join(""):`<li class="text-base">${t.riwayatAlamat}</li>`}\n            </ul>\n          </div>\n          <h5 class="text-lg mb-2"><strong>Riwayat Kontak</strong></h5>\n          <div class="overflow-x-auto">\n            <table id="tabelKontak"></table>\n          </div>`;let a="";Object.keys(t.daftarPengurus).forEach((n=>{let e="";t.daftarPengurus[n].forEach((t=>{e+=`<tr\n                                      class="border-b border-gray-300 text-center">\n                                      <td class="py-2 px-4">\n                                          ${t.nama}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${t.npwp}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${t.jabatan}\n                                      </td>\n                                  </tr>`})),a+=`<li class="mb-5 ms-4">\n                                  <div\n                                      class="absolute w-4 h-4 rounded-full mt-1.5 -start-2 borders border-blue-900 bg-blue-900">\n                                  </div>\n                                  <details class="borders border-gray-200 rounded-lg bg-blue-900">\n                                      <summary\n                                          class="text-base font-bold text-gray-200 p-2 bg-blue-900 rounded-md cursor-pointer">\n                                          ${n.substring(0,4)}\n                                      </summary>\n                                      <div class="overflow-x-auto">\n                                      <table\n                                          class="w-full border-x border-gray-300  shadow-md bg-white text-base">\n                                          <thead class="bg-yellow-400 text-gray-900">\n                                              <tr>\n                                                  <th class="text-center">\n                                                      NAMA</th>\n                                                  <th class="text-center">\n                                                      NPWP</th>\n                                                  <th class="text-center">\n                                                      JABATAN\n                                                  </th>\n                                              </tr>\n                                          </thead>\n                                          <tbody>\n                                              ${e}\n                                          </tbody>\n                                      </table>\n                                      </div>\n                                  </details>\n                              </li>`}));let n="";Object.keys(t.daftarStrukturModal).forEach((a=>{let e="";t.daftarStrukturModal[a].forEach((t=>{e+=`<tr\n                                      class="border-b border-gray-300 text-center">\n                                      <td class="py-2 px-4">\n                                          ${t.nama}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${t.npwp}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${formatCurrency(t.modal_disetor?t.modal_disetor:t.jml_modal)} (${t.prosentase?t.prosentase:t.presentase}%)\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${formatCurrency(t.dividen)}\n                                      </td>\n                                  </tr>`})),n+=`<li class="mb-5 ms-4">\n                                  <div\n                                      class="absolute w-4 h-4 rounded-full mt-1.5 -start-2 borders border-yellow-400 bg-yellow-400">\n                                  </div>\n                                  <details class="borders border-gray-200 rounded-lg bg-yellow-400">\n                                      <summary\n                                          class="text-base font-bold text-gray-900 p-2 bg-yellow-400 rounded-md cursor-pointer">\n                                          ${a.substring(0,4)}\n                                      </summary>\n                                      <div class="overflow-x-auto">\n                                      <table\n                                          class="w-full border-x border-gray-300  shadow-md bg-white text-base">\n                                          <thead class="bg-blue-900 text-gray-200 ">\n                                              <tr>\n                                                  <th class="text-center">\n                                                      NAMA</th>\n                                                  <th class="text-center">\n                                                      NPWP</th>\n                                                  <th class="text-center">\n                                                      JUMLAH\n                                                  </th>\n                                                  <th class="text-center">\n                                                      DIVIDEN\n                                                  </th>\n                                              </tr>\n                                          </thead>\n                                          <tbody>\n                                              ${e}\n                                          </tbody>\n                                      </table>\n                                      </div>\n                                  </details>\n                              </li>`})),infoManajemenWp.innerHTML=`<div class="p-2 w-full">\n                                      <div class="flex items-center mb-1">\n                                          <svg class="w-8 h-8 text-blue-800" aria-hidden="true"\n                                              xmlns="http://www.w3.org/2000/svg" width="24" height="24"\n                                              fill="currentColor" viewBox="0 0 24 24">\n                                              <path fill-rule="evenodd"\n                                                  d="M12 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-1.5 8a4 4 0 0 0-4 4 2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-3Zm6.82-3.096a5.51 5.51 0 0 0-2.797-6.293 3.5 3.5 0 1 1 2.796 6.292ZM19.5 18h.5a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-1.1a5.503 5.503 0 0 1-.471.762A5.998 5.998 0 0 1 19.5 18ZM4 7.5a3.5 3.5 0 0 1 5.477-2.889 5.5 5.5 0 0 0-2.796 6.293A3.501 3.501 0 0 1 4 7.5ZM7.1 12H6a4 4 0 0 0-4 4 2 2 0 0 0 2 2h.5a5.998 5.998 0 0 1 3.071-5.238A5.505 5.505 0 0 1 7.1 12Z"\n                                                  clip-rule="evenodd" />\n                                          </svg>\n                                          <div class="text-base font-bold">\n                                              DAFTAR PENGURUS\n                                          </div>\n                                      </div>\n                                      <ol class="relative border-s border-blue-900">\n                                          ${a}\n                                      </ol>\n                                      <div class="flex items-center mb-1">\n                                          <svg class="w-8 h-8 text-yellow-400" aria-hidden="true"\n                                              xmlns="http://www.w3.org/2000/svg" width="24" height="24"\n                                              fill="currentColor" viewBox="0 0 24 24">\n                                              <path fill-rule="evenodd"\n                                                  d="M9 15a6 6 0 1 1 12 0 6 6 0 0 1-12 0Zm3.845-1.855a2.4 2.4 0 0 1 1.2-1.226 1 1 0 0 1 1.992-.026c.426.15.809.408 1.111.749a1 1 0 1 1-1.496 1.327.682.682 0 0 0-.36-.213.997.997 0 0 1-.113-.032.4.4 0 0 0-.394.074.93.93 0 0 0 .455.254 2.914 2.914 0 0 1 1.504.9c.373.433.669 1.092.464 1.823a.996.996 0 0 1-.046.129c-.226.519-.627.94-1.132 1.192a1 1 0 0 1-1.956.093 2.68 2.68 0 0 1-1.227-.798 1 1 0 1 1 1.506-1.315.682.682 0 0 0 .363.216c.038.009.075.02.111.032a.4.4 0 0 0 .395-.074.93.93 0 0 0-.455-.254 2.91 2.91 0 0 1-1.503-.9c-.375-.433-.666-1.089-.466-1.817a.994.994 0 0 1 .047-.134Zm1.884.573.003.008c-.003-.005-.003-.008-.003-.008Zm.55 2.613s-.002-.002-.003-.007a.032.032 0 0 1 .003.007ZM4 14a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0v-4a1 1 0 0 1 1-1Zm3-2a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0v-6a1 1 0 0 1 1-1Zm6.5-8a1 1 0 0 1 1-1H18a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-.796l-2.341 2.049a1 1 0 0 1-1.24.06l-2.894-2.066L6.614 9.29a1 1 0 1 1-1.228-1.578l4.5-3.5a1 1 0 0 1 1.195-.025l2.856 2.04L15.34 5h-.84a1 1 0 0 1-1-1Z"\n                                                  clip-rule="evenodd" />\n                                          </svg>\n                                          <h2 class="text-base font-bold">\n                                              DAFTAR PEMEGANG SAHAM\n                                          </h2>\n                                      </div>\n                                      <ol class="relative border-s border-yellow-400">\n                                          ${n}\n                                      </ol>\n                                  </div>`}else profilWpCardView.innerHTML='<div class="grid grid-cols-1">\n        <div class="bg-white shadow-lg rounded-lg p-2 border-l-2 border-blue-500">\n        <div id="identitasWp" class="grid grid-cols-1 md:grid-cols-2 gap-3"></div>\n        </div>\n      </div>',identitasWp.innerHTML=`<div>\n              <h6 class="text-base mb-2"><strong>Nama:</strong> ${t.namaWp}</h6>\n              <h6 class="text-base mb-2"><strong>NPWP:</strong> ${t.npwp}</h6>\n              <h6 class="text-base mb-2"><strong>Jenis:</strong> ${t.jnsWp}</h6>\n              <h6 class="text-base mb-2"><strong>Tanggal Daftar:</strong> ${t.tglDaftar}</h6>\n              <h6 class="text-base mb-2"><strong>Status:</strong> ${t.status}</h6>\n              <h6 class="text-base mb-2"><strong>Kategori Usaha:</strong> ${t.nmKategori}\n              <h6 class="text-base mb-2"><strong>Klasifikasi Usaha:</strong>\n              ${t.klu}</h6>\n              </h6>\n              <h6 class="text-base mb-2"><strong>Status PKP:</strong> ${t.statusPkp}</h6>\n          </div>\n          <div>\n              <h6 class="text-base mb-2"><strong>NIK:</strong> ${t.nik}</h6>\n              <h6 class="text-base mb-2"><strong>Nomor Kartu Keluarga:</strong> ${t.nokk}</h6>\n              <h6 class="text-base mb-2"><strong>Tanggal Lahir:</strong> ${t.tglLahir}</h6>\n              <h6 class="text-base mb-2"><strong>Tempat Lahir:</strong> ${t.tmptLahir}</h6>\n              <ul class="text-base space-y-1 list-disc list-inside m-0"><strong>Riwayat\n                      Alamat:</strong>\n                  ${Array.isArray(t.riwayatAlamat)?t.riwayatAlamat.map((t=>`<li class="text-base">${t}</li>`)).join(""):`<li class="text-base">${t.riwayatAlamat}</li>`}\n              </ul>\n              <h5 class="text-lg mb-2"><strong>Riwayat Kontak</strong></h5>\n                <div class="overflow-x-auto">\n                    <table id="tabelKontak"></table>\n                </div>\n          </div>`;t.riwayatKontak.forEach((t=>{t.tgl_sumber&&(t.tgl_sumber=Date.parse(t.tgl_sumber))}));const a=t.riwayatKontak.sort(((t,a)=>a.tgl_sumber-t.tgl_sumber)).map((t=>(t.tgl_sumber&&(t.tgl_sumber=formatDate(t.tgl_sumber)),t)));new simpleDatatables.DataTable("#tabelKontak",{columns:[{select:4,sortable:!1}],data:{headings:[{text:"Email",data:"email"},{text:"Telp.",data:"no_telp"},{text:"Faks.",data:"no_fax"},{text:"Sumber Data",data:"nama_sumber"},{text:"Tanggal",data:"tgl_sumber"}]}}).insert(a)})(this.transformProfilWp(t.profil)),t.kondisi.laporan_keuangan&&""!=t.kondisi.laporan_keuangan){laporanKeuangan.innerHTML='<div\n                            id="laporanKeuanganChart"\n                          ></div>';const a=this.transformLaporanKeuangan(t.kondisi.laporan_keuangan);new ApexCharts(document.querySelector("#laporanKeuanganChart"),a).render()}else laporanKeuangan.innerHTML='<h2 class="text-lg text-red-500 text-center">Data tidak tersedia</h2>';if(((t,a)=>{let n="";t.forEach((t=>{let a="";t.pemasokTerbesar.sort(((t,a)=>parseInt(a.nilai_transaksi)-parseInt(t.nilai_transaksi))).forEach((t=>{a+=`<tr\n                                      class="border-b border-gray-300 text-center">\n                                      <td class="py-2 px-4">\n                                          ${t.nama}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${t.npwp}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                      ${t.nm_klu}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${formatCurrency(parseInt(t.nilai_transaksi))}\n                                      </td>\n                                  </tr>`})),n+=`<li class="mb-5 ms-4">\n                                  <div\n                                      class="absolute w-4 h-4 rounded-full mt-1.5 -start-2 borders border-blue-900 bg-blue-900">\n                                  </div>\n                                  <details class="borders border-gray-200 rounded-lg bg-blue-900">\n                                      <summary\n                                          class="text-base font-bold text-gray-200 p-2 bg-blue-900 rounded-md cursor-pointer">\n                                          ${t.tahun}\n                                      </summary>\n                                      <div class="overflow-x-auto">\n                                          <table\n                                          class="w-full border-x border-gray-300  shadow-md bg-white text-sm">\n                                          <thead class="bg-yellow-400 text-gray-900">\n                                              <tr>\n                                                  <th class="text-center">\n                                                      NAMA</th>\n                                                  <th class="text-center">\n                                                      NPWP</th>\n                                                  <th class="text-center">\n                                                      KLU\n                                                  </th>\n                                                  <th class="text-center">\n                                                      Nilai Transaksi\n                                                  </th>\n                                              </tr>\n                                          </thead>\n                                          <tbody>\n                                          ${a}\n                                          </tbody>\n                                      </table>\n                                      </div>\n                                      \n                                  </details>\n                              </li>`}));let e="";a.forEach((t=>{let a="";t.pelangganTerbesar.forEach((t=>{a+=`<tr\n                                      class="border-b border-gray-300 text-center">\n                                      <td class="py-2 px-4">\n                                          ${t.nama}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${t.npwp}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${t.nm_klu?t.nm_klu:"-"}\n                                      </td>\n                                      <td class="py-2 px-4">\n                                          ${formatCurrency(parseInt(t.nilai_transaksi))}\n                                      </td>\n                                  </tr>`})),e+=`<li class="mb-5 ms-4">\n                                  <div\n                                      class="absolute w-4 h-4 rounded-full mt-1.5 -start-2 borders border-yellow-400 bg-yellow-400">\n                                  </div>\n                                  <details class="borders border-gray-200 rounded-lg bg-yellow-400">\n                                      <summary\n                                          class="text-base font-bold text-gray-900 p-2 bg-yellow-400 rounded-md cursor-pointer">\n                                          ${t.tahun}\n                                      </summary>\n                                      <div class="overflow-x-auto">\n                                          <table class="w-full border-x border-gray-300  shadow-md bg-white text-sm">\n                                            <thead class="bg-blue-900 text-gray-200">\n                                                <tr>\n                                                    <th class="text-center">\n                                                        NAMA</th>\n                                                    <th class="text-center">\n                                                        NPWP</th>\n                                                    <th class="text-center">\n                                                        KLU\n                                                    </th>\n                                                    <th class="text-center">\n                                                        Nilai Transaksi\n                                                    </th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                            ${a}\n                                            </tbody>\n                                        </table>\n                                      </div>\n                                  </details>\n                              </li>`})),pemasokDanPelanggan.innerHTML=`<div class="p-2 w-full">\n                              <div class="flex items-center mb-1">\n                                <div class="text-base font-bold">\n                                  PEMASOK TERBESAR\n                                </div>\n                              </div>\n                              <ol class="relative border-s border-blue-900">${n||'<li class="mb-5 ms-4 text-red-500 text-base">Data tidak ada</li>'}</ol>\n                              <div class="flex items-center mb-1">\n                                <h2 class="text-base font-bold">\n                                  PELANGGAN TERBESAR\n                                </h2>\n                              </div>\n                              <ol\n                                class="relative border-s border-yellow-300"\n                              >${e||'<li class="mb-5 ms-4 text-red-500 text-base">Data tidak ada</li>'}</ol>\n                            </div>`})(""!=t.kondisi.pemasok?this.transformPemasok(t.kondisi.pemasok.pemasok_tahun):[],""!=t.kondisi.pelanggan?this.transformPelanggan(t.kondisi.pelanggan.pelanggan_tahun):[]),t.kondisi.pajak_terutang&&""!=t.kondisi.pajak_terutang){const a=this.transformPajakTerutang(t.kondisi.pajak_terutang);pajakTerutang.innerHTML='\n                          <div\n                            id="pajakTerutangSptChart"\n                          >\n                          <h2 class="text-base mb-2 text-gray-500">SPT PPH & PPN</h2>\n                          </div>\n                          <div\n                            id="pajakTerutangPotputChart"\n                          >\n                          <h2 class="text-base mb-2 text-gray-500">POTPUT</h2>\n                          </div>',new ApexCharts(document.querySelector("#pajakTerutangSptChart"),a.spt).render(),new ApexCharts(document.querySelector("#pajakTerutangPotputChart"),a.potput).render()}else pajakTerutang.innerHTML='<h2 class="text-lg text-red-500 text-center">Data tidak tersedia</h2>';if(t.kondisi&&""!=t.kondisi.peredaran_usaha){const a=this.transformPeredaranUsaha(t.kondisi.peredaran_usaha);peredaranUsaha.innerHTML='<div\n                            id="peredaranUsahaChart"\n                          ></div>;',new ApexCharts(document.querySelector("#peredaranUsahaChart"),a).render()}else peredaranUsaha.innerHTML='<h2 class="text-lg text-red-500 text-center">Data tidak tersedia</h2>';if(t.kondisi.pembayaran&&""!=t.kondisi.pembayaran.length){const a=this.transformPembayaran(t.kondisi.pembayaran);pembayaranPajak.innerHTML='<div\n                            id="pembayaranPajakChart"\n                          ></div>',new ApexCharts(document.querySelector("#pembayaranPajakChart"),a).render()}else pembayaranPajak.innerHTML='<h2 class="text-lg text-red-500 text-center">Data tidak tersedia</h2>'},transformPembayaran:function(t){Array.isArray(t.perjnstahun)||(t.perjnstahun=[t.perjnstahun]);const a=Array.from(new Set(t.perjnstahun.map((t=>t.tahun_pajak))));return{chart:{type:"line"},series:[{name:"PPh Non Migas",data:a.map((a=>{const n=t.perjnstahun.find((t=>t.tahun_pajak===a&&"PPh Non Migas"===t.jns_pajak));return n?parseInt(n.nilai,10):0}))},{name:"PPN dan PPnBM",data:a.map((a=>{const n=t.perjnstahun.find((t=>t.tahun_pajak===a&&"PPN dan PPnBM"===t.jns_pajak));return n?parseInt(n.nilai,10):0}))},{name:"Pajak Lainnya",data:a.map((a=>{const n=t.perjnstahun.find((t=>t.tahun_pajak===a&&"Pajak Lainnya"===t.jns_pajak));return n?parseInt(n.nilai,10):0}))}],legend:{fontSize:"14px"},xaxis:{categories:a,title:{text:"Tahun Pajak",style:{fontSize:"14px"}},labels:{style:{fontSize:"14px"}}},yaxis:{title:{text:"Nilai (IDR)",style:{fontSize:"14px"}},labels:{formatter:function(t){return t.toLocaleString("en-US")},style:{fontSize:"14px"}}},stroke:{curve:"smooth"}}},transformLaporanKeuangan:function(t){const a=new Set,n={};for(const e in t)Array.isArray(t[e])?t[e].forEach((t=>{a.add(t.tahun),n[e]||(n[e]={}),n[e][t.tahun]=parseInt(t.nilai,10)})):(a.add(t[e].tahun),n[e]||(n[e]={}),n[e][t[e].tahun]=parseInt(t[e].nilai,10));const e={xAxis:Array.from(a).sort(),series:[]};for(const t in n)"kewajiban_jangkapanjang_tahun"!=t&&e.series.push({name:t,data:e.xAxis.map((a=>n[t][a]||0))});return{chart:{type:"bar",height:400},series:e.series,legend:{fontSize:"14px"},xaxis:{categories:e.xAxis,labels:{style:{fontSize:"14px"}}},colors:["#a855f7","#10b981","#f59e0b","#f43f5e"],plotOptions:{bar:{horizontal:!1,columnWidth:"50%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},yaxis:{title:{text:"Nilai (IDR)",style:{fontSize:"14px"}},labels:{formatter:function(t){return t.toLocaleString("en-US")},style:{fontSize:"14px"}}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t.toLocaleString()}}}}},transformPeredaranUsaha:function(t){const a=t.spt_pph&&Array.isArray(t.spt_pph)?t.spt_pph.map((t=>t.tahun_pajak)):t.spt_pph?Array.from([t.spt_pph.tahun_pajak]):[],n=t.spt_ppn&&Array.isArray(t.spt_ppn)?t.spt_ppn.map((t=>t.tahun_pajak)):t.spt_ppn?Array.from([t.spt_ppn.tahun_pajak]):[],e=Array.from(new Set([...a,...n]));return{chart:{type:"bar",height:400},series:[{name:"SPT_PPH",data:e.map((n=>{const e=a.length&&Array.isArray(t.spt_pph)>0?t.spt_pph.find((t=>t.tahun_pajak===n)):t.spt_pph?parseInt(t.spt_pph.nilai):null;return e?parseInt(e.nilai,10):null}))},{name:"SPT_PPN",data:e.map((a=>{const e=n.length&&Array.isArray(t.spt_ppn)>0?t.spt_ppn.find((t=>t.tahun_pajak===a)):t.spt_ppn?parseInt(t.spt_ppn.nilai):null;return e?parseInt(e.nilai,10):null}))}],legend:{fontSize:"14px"},xaxis:{categories:e,labels:{style:{fontSize:"14px"}}},colors:["#f97316","#3b82f6"],plotOptions:{bar:{horizontal:!1,columnWidth:"50%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},yaxis:{title:{text:"Nilai (IDR)",style:{fontSize:"14px"}},labels:{formatter:function(t){return t.toLocaleString("en-US")},style:{fontSize:"14px"}}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t.toLocaleString()}}}}},transformPajakTerutang:function(t){const a=new Set,n={};for(const e of["spt_pph","spt_ppn"])n[e.toUpperCase()]={},t[e]&&(Array.isArray(t[e])?t[e].forEach((t=>{a.add(t.tahun_pajak),n[e.toUpperCase()][t.tahun_pajak]=parseInt(t.nilai,10)})):(a.add(t[e].tahun_pajak),n[e.toUpperCase()][t[e].tahun_pajak]=parseInt(t[e].nilai,10)));const e={xAxis:Array.from(a).sort(),series:[]};for(const t in n)e.series.push({name:t,data:e.xAxis.map((a=>n[t][a]||0))});a.clear();const r={chart:{type:"bar",height:400},series:e.series,legend:{fontSize:"14px"},xaxis:{categories:e.xAxis,title:{text:"Tahun Pajak",style:{fontSize:"14px"}},labels:{style:{fontSize:"14px"}}},yaxis:{title:{text:"Nilai (IDR)",style:{fontSize:"14px"}},labels:{formatter:function(t){return t.toLocaleString("en-US")},style:{fontSize:"14px"}}},colors:["#f43f5e","#14b8a6"],plotOptions:{bar:{horizontal:!1,columnWidth:"50%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]}};t.spt_pph_potput&&(Array.isArray(t.spt_pph_potput)?t.spt_pph_potput.forEach((t=>{a.add(t.tahun_pajak),n[t.jenis_pajak]||(n[t.jenis_pajak]={}),n[t.jenis_pajak][t.tahun_pajak]=parseInt(t.nilai,10)})):(a.add(t.spt_pph_potput.tahun_pajak),n[t.spt_pph_potput.jenis_pajak]||(n[t.spt_pph_potput.jenis_pajak]={}),n[t.spt_pph_potput.jenis_pajak][t.spt_pph_potput.tahun_pajak]=parseInt(t.spt_pph_potput.nilai,10)));const s={xAxis:Array.from(a).sort(),series:[]};for(const t in n)t.includes("SPT")||s.series.push({name:t,data:s.xAxis.map((a=>n[t][a]?n[t][a]:0))});const l=0===s.series.length&&0===s.xAxis.length;return{spt:r,potput:{chart:{type:"line"},series:s.series,legend:{fontSize:"14px"},xaxis:{categories:s.xAxis,title:{text:l?"Data tidak tersedia":"Tahun Pajak",style:{fontSize:"14px"}},labels:{style:{fontSize:"14px"}}},yaxis:{title:{text:l?"Data tidak tersedia":"Nilai (IDR)",style:{fontSize:"14px"}},labels:{formatter:function(t){return t.toLocaleString("en-US")},style:{fontSize:"14px"}}},stroke:{curve:"smooth"}}}},transformPelanggan:function(t){return Array.isArray(t)?t.map((t=>({tahun:t.tahun,pelangganTerbesar:Array.isArray(t.pelanggan_terbesar.pelanggan_detil)?t.pelanggan_terbesar.pelanggan_detil:[t.pelanggan_terbesar.pelanggan_detil]}))):[{tahun:t.tahun,pelangganTerbesar:Array.isArray(t.pelanggan_terbesar.pelanggan_detil)?t.pelanggan_terbesar.pelanggan_detil:[t.pelanggan_terbesar.pelanggan_detil]}]},transformPemasok:function(t){return Array.isArray(t)?t.map((t=>({tahun:t.tahun,pemasokTerbesar:Array.isArray(t.pemasok_terbesar.pemasok_detil)?t.pemasok_terbesar.pemasok_detil:[t.pemasok_terbesar.pemasok_detil]}))):[{tahun:t.tahun,pemasokTerbesar:Array.isArray(t.pemasok_terbesar.pemasok_detil)?t.pemasok_terbesar.pemasok_detil:[t.pemasok_terbesar.pemasok_detil]}]},transformProfilWp:function(t){if("BADAN"==t.identitas.jns_wp){const a=t.badan_hukum,n=a.pengurus?a.pengurus.detil_pengurus.reduce(((t,a)=>{const{tahun_pajak:n}=a;return t[n]||(t[n]=[]),t[n].push(a),t}),{}):[],e=a.pemegang_saham&&Array.isArray(a.pemegang_saham)?a.pemegang_saham[0].detil_pemegang_saham.reduce(((t,a)=>{const{tahun_pajak:n}=a;return t[n]||(t[n]=[]),t[n].push(a),t}),{}):a.pemegang_saham?a.pemegang_saham.detil_pemegang_saham.reduce(((t,a)=>{const{tahun_pajak:n}=a;return t[n]||(t[n]=[]),t[n].push(a),t}),{}):[];return{namaWp:t.identitas.nama_wp,npwp:t.identitas.npwp,jnsWp:t.identitas.jns_wp,status:t.identitas.status_wp,klu:`${t.identitas.nm_klu}(${t.identitas.kd_klu})`,nmKategori:t.identitas.nm_kategori,nomorAkta:t.badan_hukum.akta_pendirian.detil.nomor,notaris:t.badan_hukum.akta_pendirian.detil.notaris,bentukBadan:t.badan_hukum.bentuk_badan,tanggalAkta:t.badan_hukum.akta_pendirian.detil.tanggal,kota:t.badan_hukum.akta_pendirian.detil.kota,tglPkp:t.identitas.tgl_pkp?t.identitas.tgl_pkp:"-",riwayatAlamat:Array.isArray(t.badan_hukum.riwayat_alamat.detil_alamat)?t.badan_hukum.riwayat_alamat.detil_alamat.map((t=>`${t.jalan}${t.nomor?`, No. ${t.nomor}`:""}${t.rt?`, RT. ${t.rt}`:""}${t.rw?`, RW. ${t.rw}`:""}, Kelurahan: ${t.nm_kelurahan}, Kecamatan ${t.nm_kecamatan}, ${t.nm_dati2}, ${t.nm_dati1} (Terakhir diubah: ${formatDate(t.tgl_perubahan)})`)):`${t.badan_hukum.riwayat_alamat.detil_alamat.jalan}${t.badan_hukum.riwayat_alamat.detil_alamat.nomor?`, No. ${t.badan_hukum.riwayat_alamat.detil_alamat.nomor}`:""}${t.badan_hukum.riwayat_alamat.detil_alamat.rt?`, RT. ${t.badan_hukum.riwayat_alamat.detil_alamat.rt}`:""}${t.badan_hukum.riwayat_alamat.detil_alamat.rw?`, RW. ${t.badan_hukum.riwayat_alamat.detil_alamat.rw}`:""}, Kelurahan: ${t.badan_hukum.riwayat_alamat.detil_alamat.nm_kelurahan}, Kecamatan ${t.badan_hukum.riwayat_alamat.detil_alamat.nm_kecamatan}, ${t.badan_hukum.riwayat_alamat.detil_alamat.nm_dati2}, ${t.badan_hukum.riwayat_alamat.detil_alamat.nm_dati1} (Terakhir diubah: ${formatDate(t.badan_hukum.riwayat_alamat.detil_alamat.tgl_perubahan)})`,riwayatKontak:t.badan_hukum.riwayat_kontak.detil_kontak,daftarPengurus:n,daftarStrukturModal:e}}return{namaWp:t.identitas.nama_wp,npwp:t.identitas.npwp,jnsWp:t.identitas.jns_wp,tglDaftar:formatDate(t.identitas.tgl_daftar),status:t.identitas.status_wp,klu:`${t.identitas.nm_klu}(${t.identitas.kd_klu})`,nmKategori:t.identitas.kategori_klu,statusPkp:"0"==t.identitas.status_pkp?"Non PKP":"PKP",nik:t.personal.no_id,nokk:t.personal.no_kk,tglLahir:formatDate(t.personal.lhr_tgl),tmptLahir:t.personal.lhr_tmp,riwayatAlamat:Array.isArray(t.riwayat_alamat)?t.riwayat_alamat.map((t=>`${t.jalan}${t.nomor?`, No. ${t.nomor}`:""}${t.rt?`, RT. ${t.rt}`:""}${t.rw?`, RW. ${t.rw}`:""}, Kelurahan: ${t.nm_kelurahan}, Kecamatan ${t.nm_kecamatan}, ${t.nm_dati2}, ${t.nm_dati1} (Terakhir diubah: ${formatDate(t.tgl_perubahan)})`)):`${t.riwayat_alamat.jalan}${t.riwayat_alamat.nomor?`, No. ${t.riwayat_alamat.nomor}`:""}${t.riwayat_alamat.rt?`, RT. ${t.riwayat_alamat.rt}`:""}${t.riwayat_alamat.rw?`, RW. ${t.riwayat_alamat.rw}`:""}, Kelurahan: ${t.riwayat_alamat.nm_kelurahan}, Kecamatan ${t.riwayat_alamat.nm_kecamatan}, ${t.riwayat_alamat.nm_dati2}, ${t.riwayat_alamat.nm_dati1} (Terakhir diubah: ${formatDate(t.riwayat_alamat.tgl_perubahan)})`,riwayatKontak:t.riwayat_kontak}}},a={init:function(t){var a,n;""!=t.hispengawasan?(n=this.transformHistoryPengawasan(t.hispengawasan),riwayatPengawasan.innerHTML=`<div class="grid grid-cols-1">\n        <div class="shadow-lg rounded-lg p-2 border-l-2 border-amber-500">\n                <h3 class="text-lg mb-1 text-gray-800">Rincian Pengawasan Pertahun Pajak</h3>\n                <div class="flex flex-col space-y-1.5">\n                    <div class="p-1" id="timelinePengawasan">${n}</div>\n                </div>\n        </div>\n  `):riwayatPengawasan.innerHTML='<h3 class="text-xl text-center text-red-500">Data tidak tersedia</h3>',""!=t.hispemeriksaan?(a=this.transforHistoryPemeriksaan(t.hispemeriksaan),riwayatPemeriksaan.innerHTML=`<div class="grid grid-cols-1">\n          <div class="shadow-lg rounded-lg p-2 border-l-2 border-amber-500">\n                  <h3 class="text-lg mb-1 text-gray-800">Rincian Pemeriksaan Pertahun Pajak</h3>\n                  <div class="flex flex-col space-y-1.5">\n                      <div class="p-1" id="rincianPemeriksaan">${a}</div>\n                  </div>\n          </div>\n    `):riwayatPemeriksaan.innerHTML='<h3 class="text-xl text-center text-red-500">Data tidak tersedia</h3>'},transformHistoryPengawasan:function(t){const a=t.agg_fiscalyear,n=Array.isArray(a)?a.map((t=>({year:t.fiscalyear,details:t.details}))).sort(((t,a)=>t.year-a.year)):[{year:a.fiscalyear,details:a.details}];let e="";return n.forEach((t=>{let a="";Array.isArray(t.details.lhpts.lhpt)?t.details.lhpts.lhpt.forEach((t=>{a+=`<tr\n        class="border-b border-gray-300 text-center">\n        <td class="py-2 px-4">\n            ${t.no_lhpt}\n        </td>\n        <td class="py-2 px-4">\n            ${formatDate(t.tgl_lhpt)}\n        </td>\n        <td class="py-2 px-4">\n        ${formatCurrency(parseInt(t.jml_potensi_awal))}\n        </td>\n        <td class="py-2 px-4">\n            ${t.uraian}\n        </td>\n    </tr>`})):""!=t.details.lhpts&&(a+=`<tr\n            class="border-b border-gray-300 text-center">\n            <td class="py-2 px-4">\n                ${t.details.lhpts.lhpt.no_lhpt}\n            </td>\n            <td class="py-2 px-4">\n                ${formatDate(t.details.lhpts.lhpt.tgl_lhpt)}\n            </td>\n            <td class="py-2 px-4">\n            ${formatCurrency(parseInt(t.details.lhpts.lhpt.jml_potensi_awal))}\n            </td>\n            <td class="py-2 px-4">\n                ${t.details.lhpts.lhpt.uraian}\n            </td>\n        </tr>`);let n="";Array.isArray(t.details.sp2dks.sp2dk)?t.details.sp2dks.sp2dk.forEach((t=>{n+=`<tr\n        class="border-b border-gray-300 text-center">\n        <td class="py-2 px-4">\n            ${t.no_sp2dk}\n        </td>\n        <td class="py-2 px-4">\n            ${formatDate(t.tgl_sp2dk)}\n        </td>\n        <td class="py-2 px-4">\n        ${t.id_jns_sp2dk}\n        </td>\n        <td class="py-2 px-4">\n            ${t.id_jns_respon} / ${t.id_jns_rekom}\n        </td>\n    </tr>`})):""!=t.details.sp2dks&&(n+=`<tr\n        class="border-b border-gray-300 text-center">\n        <td class="py-2 px-4">\n            ${t.details.sp2dks.sp2dk.no_sp2dk}\n        </td>\n        <td class="py-2 px-4">\n            ${formatDate(t.details.sp2dks.sp2dk.tgl_sp2dk)}\n        </td>\n        <td class="py-2 px-4">\n        ${t.details.sp2dks.sp2dk.id_jns_sp2dk}\n        </td>\n        <td class="py-2 px-4">\n            ${t.details.sp2dks.sp2dk.id_jns_respon} / ${t.details.sp2dks.sp2dk.id_jns_rekom}\n        </td>\n    </tr>`);let r="";Array.isArray(t.details.lhp2dks.lhp2dk)?t.details.lhp2dks.lhp2dk.forEach((t=>{r+=`<tr\n        class="border-b border-gray-300 text-center">\n        <td class="py-2 px-4">\n            ${t.no_lhp2dk}\n        </td>\n        <td class="py-2 px-4">\n            ${formatDate(t.tgl_lhp2dk)}\n        </td>\n        <td class="py-2 px-4">\n        ${formatCurrency(t.jml_potensi_akhir)}\n        </td>\n        <td class="py-2 px-4">\n        ${formatCurrency(t.jml_realisasi_sp2dk)}\n        </td>\n    </tr>`})):""!=t.details.lhp2dks&&(r+=`<tr\n        class="border-b border-gray-300 text-center">\n        <td class="py-2 px-4">\n            ${t.details.lhp2dks.lhp2dk.no_lhp2dk}\n        </td>\n        <td class="py-2 px-4">\n            ${formatDate(t.details.lhp2dks.lhp2dk.tgl_lhp2dk)}\n        </td>\n        <td class="py-2 px-4">\n        ${formatCurrency(t.details.lhp2dks.lhp2dk.jml_potensi_akhir)}\n        </td>\n        <td class="py-2 px-4">\n        ${formatCurrency(t.details.lhp2dks.lhp2dk.jml_realisasi_sp2dk)}\n        </td>\n    </tr>`),e+=`<details>\n                                  <summary class="text-xl font-bold text-gray-900 cursor-pointer">\n                                      ${t.year}\n                                  </summary>\n                                  <div class="flow-root">\n                                      <ul role="list" class="mb-2">\n                                      <li>\n                                        <div class="relative pb-2">\n                                            <div class="absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"\n                                                aria-hidden="true"></div>\n                                            <div class="relative flex gap-3">\n                                                <div>\n                                                    <div class="relative">\n                                                        <div\n                                                            class="flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 ring-8 ring-white">\n                                                            <svg xmlns="http://www.w3.org/2000/svg"\n                                                                width="24" height="24"\n                                                                viewBox="0 0 24 24" fill="none"\n                                                                stroke="currentColor" stroke-width="2"\n                                                                stroke-linecap="round"\n                                                                stroke-linejoin="round"\n                                                                class="lucide lucide-calendar-days h-5 w-5 text-blue-600">\n                                                                <path d="M8 2v4"></path>\n                                                                <path d="M16 2v4"></path>\n                                                                <rect width="18" height="18" x="3" y="4"\n                                                                    rx="2"></rect>\n                                                                <path d="M3 10h18"></path>\n                                                                <path d="M8 14h.01"></path>\n                                                                <path d="M12 14h.01"></path>\n                                                                <path d="M16 14h.01"></path>\n                                                                <path d="M8 18h.01"></path>\n                                                                <path d="M12 18h.01"></path>\n                                                                <path d="M16 18h.01"></path>\n                                                            </svg>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div\n                                                    class="flex flex-1 justify-between space-x-4 pt-1.5">\n                                                    <div\n                                                        class="bg-white shadow-sm border-gray-200 w-full pb-2">\n                                                        <div\n                                                            class="grid grid-cols-1 md:grid-cols-3 gap-2">\n                                                            <div class="space-y-2">\n                                                                <div class="flex items-center gap-2">\n                                                                    <svg xmlns="http://www.w3.org/2000/svg"\n                                                                        width="24" height="24"\n                                                                        viewBox="0 0 24 24" fill="none"\n                                                                        stroke="currentColor"\n                                                                        stroke-width="2"\n                                                                        stroke-linecap="round"\n                                                                        stroke-linejoin="round"\n                                                                        class="lucide lucide-file-text h-4 w-4 text-blue-600">\n                                                                        <path\n                                                                            d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z">\n                                                                        </path>\n                                                                        <path\n                                                                            d="M14 2v4a2 2 0 0 0 2 2h4">\n                                                                        </path>\n                                                                        <path d="M10 9H8"></path>\n                                                                        <path d="M16 13H8"></path>\n                                                                        <path d="M16 17H8"></path>\n                                                                    </svg><span\n                                                                        class="text-sm font-medium">LHPt</span>\n                                                                </div>\n                                                                <div class="overflow-x-auto">\n                                                                    <table class="w-full border-x border-gray-300  shadow-md bg-white text-sm">\n                                                                        <thead class="bg-cyan-500 text-gray-100">\n                                                                            <tr>\n                                                                                <th class="text-center">\n                                                                                    Nomor</th>\n                                                                                <th class="text-center">\n                                                                                    Tanggal</th>\n                                                                                <th class="text-center">\n                                                                                    Potensi Awal\n                                                                                </th>\n                                                                                <th class="text-center">\n                                                                                    Uraian\n                                                                                </th>\n                                                                            </tr>\n                                                                        </thead>\n                                                                        <tbody>\n                                                                        ${a}\n                                                                        </tbody>\n                                                                    </table>\n                                                                </div>\n                                                            </div>\n                                                            <div class="space-y-2">\n                                                                <div class="flex items-center gap-2">\n                                                                    <svg xmlns="http://www.w3.org/2000/svg"\n                                                                        width="24" height="24"\n                                                                        viewBox="0 0 24 24" fill="none"\n                                                                        stroke="currentColor"\n                                                                        stroke-width="2"\n                                                                        stroke-linecap="round"\n                                                                        stroke-linejoin="round"\n                                                                        class="lucide lucide-file-text h-4 w-4 text-blue-600">\n                                                                        <path\n                                                                            d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z">\n                                                                        </path>\n                                                                        <path\n                                                                            d="M14 2v4a2 2 0 0 0 2 2h4">\n                                                                        </path>\n                                                                        <path d="M10 9H8"></path>\n                                                                        <path d="M16 13H8"></path>\n                                                                        <path d="M16 17H8"></path>\n                                                                    </svg><span\n                                                                        class="text-sm font-medium">SP2DK</span>\n                                                                </div>\n                                                                <div class="overflow-x-auto">\n                                                                    <table class="w-full border-x border-gray-300  shadow-md bg-white text-sm">\n                                                                        <thead class="bg-rose-500 text-gray-100">\n                                                                            <tr>\n                                                                                <th class="text-center">\n                                                                                    Nomor</th>\n                                                                                <th class="text-center">\n                                                                                    Tanggal</th>\n                                                                                <th class="text-center">\n                                                                                    Jenis\n                                                                                </th>\n                                                                                <th class="text-center">\n                                                                                    Respon/Rekomendasi\n                                                                                </th>\n                                                                            </tr>\n                                                                        </thead>\n                                                                        <tbody>\n                                                                        ${n}\n                                                                        </tbody>\n                                                                    </table>\n                                                                </div>\n                                                            </div>\n                                                            <div class="space-y-2">\n                                                                <div class="flex items-center gap-2">\n                                                                    <svg xmlns="http://www.w3.org/2000/svg"\n                                                                        width="24" height="24"\n                                                                        viewBox="0 0 24 24" fill="none"\n                                                                        stroke="currentColor"\n                                                                        stroke-width="2"\n                                                                        stroke-linecap="round"\n                                                                        stroke-linejoin="round"\n                                                                        class="lucide lucide-file-text h-4 w-4 text-blue-600">\n                                                                        <path\n                                                                            d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z">\n                                                                        </path>\n                                                                        <path\n                                                                            d="M14 2v4a2 2 0 0 0 2 2h4">\n                                                                        </path>\n                                                                        <path d="M10 9H8"></path>\n                                                                        <path d="M16 13H8"></path>\n                                                                        <path d="M16 17H8"></path>\n                                                                    </svg><span\n                                                                        class="text-sm font-medium">LHP2DK</span>\n                                                                </div>\n                                                                <div class="overflow-x-auto">\n                                                                    <table class="w-full border-x border-gray-300  shadow-md bg-white text-sm">\n                                                                        <thead class="bg-green-500 text-gray-100">\n                                                                            <tr>\n                                                                                <th class="text-center">\n                                                                                    Nomor</th>\n                                                                                <th class="text-center">\n                                                                                    Tanggal</th>\n                                                                                <th class="text-center">\n                                                                                    Potensi Akhir\n                                                                                </th>\n                                                                                <th class="text-center">\n                                                                                    Realisasi\n                                                                                </th>\n                                                                            </tr>\n                                                                        </thead>\n                                                                        <tbody>\n                                                                        ${r}\n                                                                        </tbody>\n                                                                    </table>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </li>\n                                      </ul>\n                                  </div>\n                              </details>`})),e},transforHistoryPemeriksaan:function(t){const a=t.agg_fiscalyear,n=Array.isArray(a)?a.map((t=>({year:t.fiscalyear,details:t.details}))).sort(((t,a)=>t.year-a.year)):[{year:a.fiscalyear,details:a.details}];let e="";return n.forEach((t=>{let a="";t.details.lp2&&(Array.isArray(t.details.lp2)?t.details.lp2.forEach((t=>{a+=`<tr class="border-b border-gray-300 text-center">\n                          <td class="py-2 px-4">\n                          ${t.nm_kd_pemeriksaan}\n                          </td>\n                          <td class="py-2 px-4">\n                          ${t.nm_jns_pemeriksaan}\n                          </td>\n                          <td class="py-2 px-4">\n                          ${t.nm_kd_jns_pjk_pemeriksaan}\n                          </td>\n                          <td class="py-2 px-4">\n                          ${t.nm_kriteria_pemeriksaan}\n                          </td>\n                          <td class="py-2 px-4">\n                          ${t.nm_lingkup_pemeriksaan}\n                          </td>\n                      </tr>`})):a+=`<tr class="border-b border-gray-300 text-center">\n                          <td class="py-2 px-4">\n                          ${t.details.lp2.nm_kd_pemeriksaan}\n                          </td>\n                          <td class="py-2 px-4">\n                          ${t.details.lp2.nm_jns_pemeriksaan}\n                          </td>\n                          <td class="py-2 px-4">\n                          ${t.details.lp2.nm_kd_jns_pjk_pemeriksaan}\n                          </td>\n                          <td class="py-2 px-4">\n                          ${t.details.lp2.nm_kriteria_pemeriksaan}\n                          </td>\n                          <td class="py-2 px-4">\n                          ${t.details.lp2.nm_lingkup_pemeriksaan}\n                          </td>\n                      </tr>`);let n="";t.details.lpp&&(Array.isArray(t.details.lpp)?t.details.lpp.forEach((t=>{t.lpp_dtls&&(Array.isArray(t.lpp_dtls.lpp_dtl)?t.lpp_dtls.lpp_dtl.forEach((t=>{n+=`<tr class="border-b border-gray-300 text-center">\n                                                <td class="py-2 px-4">\n                                                ${t.kd_jns_pjk}\n                                                </td>\n                                                <td class="py-2 px-4">\n                                                ${formatCurrency(t.jml_pokok_pjk)}\n                                                </td>\n                                                <td class="py-2 px-4">\n                                                ${formatCurrency(t.kredit_pjk)}\n                                                </td>\n                                                <td class="py-2 px-4">\n                                                ${formatCurrency(t.kredit_pjk)}\n                                                </td>\n                                            </tr>`})):n+=`<tr class="border-b border-gray-300 text-center">\n                                          <td class="py-2 px-4">\n                                          ${t.lpp_dtls.lpp_dtl.kd_jns_pjk}\n                                          </td>\n                                          <td class="py-2 px-4">\n                                          ${formatCurrency(t.lpp_dtls.lpp_dtl.jml_pokok_pjk)}\n                                          </td>\n                                          <td class="py-2 px-4">\n                                          ${formatCurrency(t.lpp_dtls.lpp_dtl.kredit_pjk)}\n                                          </td>\n                                          <td class="py-2 px-4">\n                                          ${formatCurrency(t.lpp_dtls.lpp_dtl.kredit_pjk)}\n                                          </td>\n                                      </tr>`)})):Array.isArray(t.details.lpp.lpp_dtls.lpp_dtl)?t.details.lpp.lpp_dtls.lpp_dtl.forEach((t=>{n+=`<tr class="border-b border-gray-300 text-center">\n                                    <td class="py-2 px-4">\n                                    ${t.kd_jns_pjk}\n                                    </td>\n                                    <td class="py-2 px-4">\n                                    ${formatCurrency(t.jml_pokok_pjk)}\n                                    </td>\n                                    <td class="py-2 px-4">\n                                    ${formatCurrency(t.kredit_pjk)}\n                                    </td>\n                                    <td class="py-2 px-4">\n                                    ${formatCurrency(t.kredit_pjk)}\n                                    </td>\n                                </tr>`})):n+=`<tr class="border-b border-gray-300 text-center">\n                                    <td class="py-2 px-4">\n                                    ${t.details.lpp.lpp_dtls.lpp_dtl.kd_jns_pjk}\n                                    </td>\n                                    <td class="py-2 px-4">\n                                    ${formatCurrency(t.details.lpp.lpp_dtls.lpp_dtl.jml_pokok_pjk)}\n                                    </td>\n                                    <td class="py-2 px-4">\n                                    ${formatCurrency(t.details.lpp.lpp_dtls.lpp_dtl.kredit_pjk)}\n                                    </td>\n                                    <td class="py-2 px-4">\n                                    ${formatCurrency(t.details.lpp.lpp_dtls.lpp_dtl.kredit_pjk)}\n                                    </td>\n                                </tr>`),e+=`<details>\n          <summary class="text-xl font-bold text-gray-900 cursor-pointer">\n              ${t.year}\n          </summary>\n          <div class="flow-root">\n              <ul role="list" class="mb-2">\n              <li>\n                <div class="relative pb-2">\n                    <div class="absolute left-4 top-4 -ml-px h-full w-0.5 bg-gray-200"\n                        aria-hidden="true"></div>\n                    <div class="relative flex gap-3">\n                        <div>\n                            <div class="relative">\n                                <div\n                                    class="flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 ring-8 ring-white">\n                                    <svg xmlns="http://www.w3.org/2000/svg"\n                                        width="24" height="24"\n                                        viewBox="0 0 24 24" fill="none"\n                                        stroke="currentColor" stroke-width="2"\n                                        stroke-linecap="round"\n                                        stroke-linejoin="round"\n                                        class="lucide lucide-calendar-days h-5 w-5 text-blue-600">\n                                        <path d="M8 2v4"></path>\n                                        <path d="M16 2v4"></path>\n                                        <rect width="18" height="18" x="3" y="4"\n                                            rx="2"></rect>\n                                        <path d="M3 10h18"></path>\n                                        <path d="M8 14h.01"></path>\n                                        <path d="M12 14h.01"></path>\n                                        <path d="M16 14h.01"></path>\n                                        <path d="M8 18h.01"></path>\n                                        <path d="M12 18h.01"></path>\n                                        <path d="M16 18h.01"></path>\n                                    </svg>\n                                </div>\n                            </div>\n                        </div>\n                        <div\n                            class="flex flex-1 justify-between space-x-4 pt-1.5">\n                            <div\n                                class="bg-white border shadow-sm border-gray-200 w-full pb-2">\n                                <div class="grid grid-cols-1">\n                                    <div class="overflow-x-auto">\n                                            <table class="w-full border-x border-gray-300  shadow-md text-sm">\n                                                <thead class="bg-orange-500 text-gray-100">\n                                                    <tr>\n                                                      <th class="text-center">\n                                                            Nama Kode Pemeriksaan</th>\n                                                        <th class="text-center">\n                                                            Jenis Pemeriksaan</th>\n                                                        <th class="text-center">\n                                                            Jenis Pajak Pemeriksaan</th>\n                                                        <th class="text-center">\n                                                            Kriteria Pemeriksaan\n                                                        </th>\n                                                        <th class="text-center">\n                                                            Lingkup Pemeriksaan\n                                                        </th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>\n                                                ${a}\n                                                </tbody>\n                                            </table>\n                                        </div>\n                                </div>\n                                <div class="grid grid-cols-1 mt-3">\n                                  <h4 class="text-base mb-1 text-gray-800">Hasil Pemeriksaan</h4>\n                                    <div class="overflow-x-auto">\n                                            <table class="w-full border-x border-gray-300  shadow-md text-sm">\n                                                <thead class="bg-emerald-500 text-gray-100">\n                                                    <tr>\n                                                      <th class="text-center">\n                                                            Jenis Pajak\n                                                        </th>\n                                                        <th class="text-center">Pokok Pajak</th>\n                                                      <th class="text-center">Kredit Pajak</th>\n                                                        <th class="text-center">Sanksi Administrasi</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>${n}</tbody>\n                                            </table>\n                                        </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n              </ul>\n          </div>\n      </details>\n      `})),e},initHistoryBuper:function(t){},initHistoryPenyidikan:function(t){}},e=function(t,a){var n,e,r,s,l,i,d,o,p,c,h,u,m,g,x,y=!1,b={arrowSize:8,colors:[["#f87171","#ef4444"],["#facc15","#eab308"],["#4ade80","#22c55e"],["#60a5fa","#3b82f6"]],highlight:void 0,minCollision:70,neo4jData:void 0,neo4jDataUrl:void 0,nodeOutlineFillColor:void 0,nodeRadius:19,relationshipColor:"#f9fafb",zoomFit:!1};function f(){return s.enter().append("g").attr("class","relationship").on("contextmenu",(function(t){b.onRelationshipContextMenu(t)}))}function v(t){d3.event.active||c.alphaTarget(0)}function k(t){!function(t){t.fx=d3.event.x,t.fy=d3.event.y}(t)}function w(t){d3.event.active||c.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}function _(t){var a={nodes:[],relationships:[]};return t.results.forEach((function(t){t.data.forEach((function(t){t.graph.nodes.forEach((function(t){var n,e;n=a.nodes,e=t.id,n.filter((function(t){return t.id===e})).length>0||a.nodes.push(t)})),t.graph.relationships.forEach((function(t){t.source=t.start,t.target=t.end,a.relationships.push(t)})),t.graph.relationships.sort((function(t,a){return t.source>a.source?1:t.source<a.source?-1:t.target>a.target?1:t.target<a.target?-1:0}));for(var n=0;n<t.graph.relationships.length;n++)0!==n&&t.graph.relationships[n].source===t.graph.relationships[n-1].source&&t.graph.relationships[n].target===t.graph.relationships[n-1].target?t.graph.relationships[n].linknum=t.graph.relationships[n-1].linknum+1:t.graph.relationships[n].linknum=1}))})),a}function j(t,a,n){return function(t,a,n,e,r){var s=Math.PI/180*r,l=Math.cos(s),i=Math.sin(s);return{x:l*(n-t)+i*(e-a)+t,y:l*(e-a)-i*(n-t)+a}}(t.x,t.y,a.x,a.y,n)}function $(t,a){return 180*Math.atan2(a.y-t.y,a.x-t.x)/Math.PI}function A(t,a,n){return j({x:0,y:0},P(t,a,n),90)}function P(t,a,n){var e=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2))/Math.sqrt(n||1);return{x:(a.x-t.x)/e,y:(a.y-t.y)/e}}function M(t){var a;a=t.nodes,function(t){Array.prototype.push.apply(o,t),s=m.selectAll(".relationship").data(o,(function(t){return t.id}));var a=function(){var t=f(),a=t.append("text").attr("class","text").attr("fill","#374151").attr("font-size","14px").attr("pointer-events","none").attr("text-anchor","middle").text((function(t){return t.type})),n=function(t){return t.append("path").attr("class","outline").attr("fill","#9ca3af").attr("stroke","none")}(t),e=function(t){return t.append("path").attr("class","overlay")}(t);return{outline:n,overlay:e,relationship:t,text:a}}();s=a.relationship.merge(s),l=h.selectAll(".relationship .outline"),l=a.outline.merge(l),i=h.selectAll(".relationship .overlay"),i=a.overlay.merge(i),d=h.selectAll(".relationship .text"),d=a.text.merge(d)}(t.relationships),function(t){Array.prototype.push.apply(r,t),e=u.selectAll(".node").data(r,(function(t){return t.id}));var a=function(){var t=e.enter().append("g").attr("class",(function(t){return"node"})).on("click",(function(t){t.fx=t.fy=null,"function"==typeof b.onNodeClick&&b.onNodeClick(t)})).on("contextmenu",(function(t){b.onNodeContextMenu(t)})).on("dblclick",(function(t){"function"==typeof b.onNodeDoubleClick&&b.onNodeDoubleClick(t)})).on("mouseenter",(function(t){"function"==typeof b.onNodeMouseEnter&&b.onNodeMouseEnter(t)})).on("mouseleave",(function(t){"function"==typeof b.onNodeMouseLeave&&b.onNodeMouseLeave(t)})).call(d3.drag().on("start",w).on("drag",k).on("end",v));return function(t){t.append("circle").attr("class","ring").attr("r",(function(t){return t.properties.foc_size>15?80:1.15*b.nodeRadius}))}(t),function(t){t.append("circle").attr("class","outline").attr("r",(function(t){return t.properties.foc_size>15?80:b.nodeRadius})).style("fill",(function(t){return t.color})).style("stroke",(function(t){return t.color}))}(t),function(t){t.append("text").attr("class","text-red-500 text-center my-2").html((function(t){return t.properties.nama}))}(t),t}();e=a.merge(e)}(a),c.nodes(r),c.force("link").links(o)}function C(t){M(_(t))}return function(t,a){var l,f,v;l=b,f=a,Object.keys(f).forEach((function(t){l[t]=f[t]})),b.minCollision||(b.minCollision=2*b.nodeRadius),p=t,(n=d3.select(p)).attr("class","neo4jd3").html(""),function(t){h=t.append("svg").attr("width","100%").attr("height","100%").attr("class","neo4jd3-graph").call(d3.zoom().on("zoom",(function(){var t=d3.event.transform.k,a=[d3.event.transform.x,d3.event.transform.y];x&&(a[0]+=x[0],a[1]+=x[1]),g&&(t*=g),h.attr("transform","translate("+a[0]+", "+a[1]+") scale("+t+")")}))).on("dblclick.zoom",null).append("g").attr("width","100%").attr("height","100%"),m=h.append("g").attr("class","relationships"),u=h.append("g").attr("class","nodes")}(n),c=d3.forceSimulation().force("collide",d3.forceCollide().radius((function(t){return b.minCollision})).iterations(2)).force("charge",d3.forceManyBody()).force("link",d3.forceLink().id((function(t){return t.id}))).force("center",d3.forceCenter(h.node().parentElement.parentElement.clientWidth/2,h.node().parentElement.parentElement.clientHeight/2)).on("tick",(function(){e&&e.attr("transform",(function(t){return"translate("+t.x+", "+t.y+")"})),s&&(s.attr("transform",(function(t){var a=$(t.source,t.target);return"translate("+t.source.x+", "+t.source.y+") rotate("+a+")"})),d.attr("transform",(function(t){var a=($(t.source,t.target)+360)%360,n=a>90&&a<270,e=A(t.source,t.target),r=n?2:-3,s=j({x:0,y:0},{x:.5*(t.target.x-t.source.x)+e.x*r,y:.5*(t.target.y-t.source.y)+e.y*r},a);return"translate("+s.x+", "+s.y+") rotate("+(n?180:0)+")"})),s.each((function(t){var a=d3.select(this),n=a.select(".outline"),e=a.select(".text");e.node().getBBox(),n.attr("d",(function(t){var a={x:0,y:0},n=$(t.source,t.target),r=e.node().getBBox(),s=P(t.source,t.target),l={x:.5*(t.target.x-t.source.x-(r.width+5)*s.x),y:.5*(t.target.y-t.source.y-(r.width+5)*s.y)},i=A(t.source,t.target),d=j(a,{x:0+(b.nodeRadius+1)*s.x-i.x,y:0+(b.nodeRadius+1)*s.y-i.y},n),o=j(a,{x:l.x-i.x,y:l.y-i.y},n),p=j(a,{x:l.x,y:l.y},n),c=j(a,{x:0+(b.nodeRadius+1)*s.x,y:0+(b.nodeRadius+1)*s.y},n),h=j(a,{x:t.target.x-t.source.x-l.x-i.x,y:t.target.y-t.source.y-l.y-i.y},n),u=j(a,{x:t.target.x-t.source.x-(b.nodeRadius+1)*s.x-i.x-s.x*b.arrowSize,y:t.target.y-t.source.y-(b.nodeRadius+1)*s.y-i.y-s.y*b.arrowSize},n),m=j(a,{x:t.target.x-t.source.x-(b.nodeRadius+1)*s.x-i.x+(i.x-s.x)*b.arrowSize,y:t.target.y-t.source.y-(b.nodeRadius+1)*s.y-i.y+(i.y-s.y)*b.arrowSize},n),g=j(a,{x:t.target.x-t.source.x-(b.nodeRadius+1)*s.x,y:t.target.y-t.source.y-(b.nodeRadius+1)*s.y},n),x=j(a,{x:t.target.x-t.source.x-(b.nodeRadius+1)*s.x+(-i.x-s.x)*b.arrowSize,y:t.target.y-t.source.y-(b.nodeRadius+1)*s.y+(-i.y-s.y)*b.arrowSize},n),y=j(a,{x:t.target.x-t.source.x-(b.nodeRadius+1)*s.x-s.x*b.arrowSize,y:t.target.y-t.source.y-(b.nodeRadius+1)*s.y-s.y*b.arrowSize},n),f=j(a,{x:t.target.x-t.source.x-l.x,y:t.target.y-t.source.y-l.y},n);return"M "+d.x+" "+d.y+" L "+o.x+" "+o.y+" L "+p.x+" "+p.y+" L "+c.x+" "+c.y+" Z M "+h.x+" "+h.y+" L "+u.x+" "+u.y+" L "+m.x+" "+m.y+" L "+g.x+" "+g.y+" L "+x.x+" "+x.y+" L "+y.x+" "+y.y+" L "+f.x+" "+f.y+" Z"}))})),i.attr("d",(function(t){var a={x:0,y:0},n=$(t.source,t.target),e=A(t.source,t.target),r=A(t.source,t.target,50),s=j(a,{x:0-r.x,y:0-r.y},n),l=j(a,{x:t.target.x-t.source.x-r.x,y:t.target.y-t.source.y-r.y},n),i=j(a,{x:t.target.x-t.source.x+r.x-e.x,y:t.target.y-t.source.y+r.y-e.y},n),d=j(a,{x:0+r.x-e.x,y:0+r.y-e.y},n);return"M "+s.x+" "+s.y+" L "+l.x+" "+l.y+" L "+i.x+" "+i.y+" L "+d.x+" "+d.y+" Z"})))})).on("end",(function(){var t,a,n,e,r,s,l,i;b.zoomFit&&!y&&(y=!0,t=h.node().getBBox(),a=h.node().parentElement.parentElement,n=a.clientWidth,e=a.clientHeight,r=t.width,s=t.height,l=t.x+r/2,i=t.y+s/2,0!==r&&0!==s&&(g=.85/Math.max(r/n,s/e),x=[n/2-g*l,e/2-g*i],h.attr("transform","translate("+x[0]+", "+x[1]+") scale("+g+")")))})),b.neo4jData?(b.neo4jData,r=[],o=[],C(b.neo4jData)):b.neo4jDataUrl?(v=b.neo4jDataUrl,r=[],o=[],d3.json(v,(function(t,a){if(t)throw t;C(a)}))):console.error("Error: both neo4jData and neo4jDataUrl are empty!")}(t,a),{neo4jDataToD3Data:_,updateWithD3Data:M,updateWithNeo4jData:C}},r=function(t){t.forEach((t=>{t.graph.nodes.forEach((t=>{t.color=t.properties.bp_color}))})),new e("#graphContainer",{neo4jData:{results:[{data:t}]},zoomFit:!0,onRelationshipContextMenu:function(t){d3.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),d3.select("body").on("click.d3-context-menu",(function(){d3.select(".d3-context-menu").style("display","none")})),d3.selectAll(".d3-context-menu").html("");const a=Object.keys(t.properties).map((a=>`<li>${a}: ${"jml_ppn"==a||"jml_dpp"==a?formatCurrency(t.properties[a]):t.properties[a]}</li>`)).join("");d3.selectAll(".d3-context-menu").append("ul").selectAll("li").data([{title:"Relationship Info"},{title:"Relationships",children:null}]).enter().append("li").html((function(){return`<ul>\n                                  ${a}\n                                  </ul>`})),d3.select(".d3-context-menu").style("left",d3.event.pageX-2+"px").style("top",d3.event.pageY-2+"px").style("display","block"),d3.event.preventDefault()},onNodeContextMenu:function(t){d3.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),d3.select("body").on("click.d3-context-menu",(function(){d3.select(".d3-context-menu").style("display","none")})),d3.selectAll(".d3-context-menu").html("");const a=Object.keys(t.properties).map((a=>`<li>${a}: ${t.properties[a]}</li>`)).join("");d3.selectAll(".d3-context-menu").append("ul").selectAll("li").data([{title:"WP Info"},{title:"Relationships",children:null}]).enter().append("li").html((function(n){return void 0===n.children?`<details>\n                                  <summary>${n.title}</summary>\n                                  <ul>\n                                  ${a}\n                                  </ul>\n                                  </details>`:null==n.children||t.hasExpanded?void 0:(n.children,`<details>\n                                  <summary>${n.title}</summary>\n                                  <ul>\n                                      ${n.children.map((t=>`<li class="relation">${t.title}</li>`)).join("")}\n                                  </ul>\n                                  </details>`)})),d3.select(".d3-context-menu").style("left",d3.event.pageX-2+"px").style("top",d3.event.pageY-2+"px").style("display","block"),d3.event.preventDefault()}})};(()=>{tchaViewerApp.innerHTML="<navbar-elem></navbar-elem><tab-elem></tab-elem>",document.getElementById("menu-toggle").addEventListener("click",(function(){document.getElementById("mobile-menu").classList.toggle("hidden")})),localStorage.getItem("uploadedJSON")&&localStorage.clear();const n=document.getElementById("jsonTchs"),e={data:null};n.addEventListener("change",(t=>{const a=t.target.files[0];if(a&&"application/json"===a.type){const t=new FileReader;t.onload=function(t){const n=t.target.result;e.data=n,document.getElementById("file-name").textContent=a.name},t.readAsText(a)}else alert("Please upload a valid JSON file.")})),jsonTchsGraph.addEventListener("change",(t=>{const a=t.target.files[0];if(a&&"application/json"===a.type){const t=new FileReader;t.onload=function(t){const n=t.target.result;r(JSON.parse(n)),document.getElementById("file-name-graph").textContent=a.name},t.readAsText(a)}else alert("Please upload a valid JSON file.")}));const s=document.querySelectorAll('[tab-identifier="tabDetailCase"]'),l=document.querySelector("#tabContentDetailCase").children;s.forEach((n=>{n.addEventListener("click",(()=>{const r=document.getElementById(n.getAttribute("tab-target"));switch(r.id){case"tabContentProfil":if(!e.data)return void alert("No data uploaded");{const a=JSON.parse(e.data),n={profil:a.getProfilWp,kondisi:a.getKondisiWp};t.init(toLowerKeys(n))}break;case"tabContentRiwayat":if(!e.data)return void alert("No data uploaded");{const t=JSON.parse(e.data),n={hispengawasan:t.getHisPengawasan,hispemeriksaan:t.getHisPemeriksaan,hisbuper:t.getHisBukper,hispenyidikan:t.getHisPenyidikan};a.init(toLowerKeys(n))}}if(!r.classList.contains("active")){n.classList.remove("not-active-tab"),n.classList.add("active-tab"),r.classList.add("active"),r.classList.remove("hidden");for(let t=0;t<l.length;t++)if(l[t].id!=r.id){const a=document.querySelector(`[tab-target="${l[t].id}"]`);a.classList.remove("active-tab"),a.classList.add("not-active-tab"),l[t].classList.remove("active"),l[t].classList.add("hidden")}}}))}))})()})()})();